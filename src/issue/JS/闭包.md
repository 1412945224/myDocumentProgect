# 闭包

到底什么是闭包？

闭包的概念：函数 A 访问了的父级（及以上）作用域变量，那么 A 函数就是一个闭包

```
    function a() {

        let num = 0;

        const init = "当前值是：";

        num += 1;

        // 此处的函数b访问了父级函数a中的局部变量i,成为了一个闭包

        function b() {

            num += 1;

            console.log(init, num);
        }

        return b;
    }
    const c = a(); // 当前值是： 1

    c(); // 当前值是： 2

    c(); // 当前值是： 3
```

以上代码中的 b 函数就是闭包

## 为什么值会一直叠加，而不是重新开始？

每次声明的时候都会复制作用域链，所以每次值都是独立的

## 声明多个会相互影响么？

那么问题来了，如果有个闭包，多次引用，内部的值是共用的么

```
    function a() {

        let num = 0;

        const init = "当前值是：";

        num += 1;

        // 此处的函数b访问了父级函数a中的局部变量i,成为了一个闭包

        function b() {

            num += 1;

            console.log(init, num);
        }
        return b;
    }
      const c = a(); // 当前值是： 1

      c(); // 当前值是： 2

      c(); // 当前值是： 3

      const d = a(); // 当前值是： 1

      d(); // 当前值是： 2

      d(); // 当前值是： 3

      c(); // 当前值是： 4

      d(); // 当前值是： 4
```

闭包函数不会相互影响，内部的值是单独的
